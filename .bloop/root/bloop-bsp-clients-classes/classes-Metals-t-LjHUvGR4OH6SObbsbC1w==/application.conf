akka {
  actor {
    provider = cluster

    # TEMPORARY: Enable Java serialization for development
    # In production, use proper serialization (Jackson, Protobuf, etc.)
    allow-java-serialization = on
    warn-about-java-serializer-usage = off
  }

  remote.artery {
    canonical {
      hostname = "127.0.0.1"
      # Port 0 means automatic port selection
      # Override with: -Dakka.remote.artery.canonical.port=2551
      port = 0
    }
  }

  cluster {
    seed-nodes = [
      "akka://ClusterSystem@127.0.0.1:2551",
      "akka://ClusterSystem@127.0.0.1:2552"
    ]

    # Roles for different node types
    roles = ["game-world"]

    # Downing provider for handling split brain scenarios
    downing-provider-class = "akka.cluster.sbr.SplitBrainResolverProvider"

    # Split brain resolver configuration
    split-brain-resolver {
      active-strategy = keep-majority
      stable-after = 20s
    }
  }

  # Cluster singleton configuration
  cluster.singleton {
    # The actor name of the child singleton actor.
    singleton-name = "game-world-singleton"

    # When a node is becoming oldest it sends hand-over request to previous oldest
    hand-over-retry-interval = 1s

    # The number of retries are derived from hand-over-retry-interval and
    # akka.cluster.singleton.min-number-of-hand-over-retries.
    min-number-of-hand-over-retries = 10
  }

  # Logging
  loglevel = "INFO"
  log-dead-letters = off
  log-dead-letters-during-shutdown = off
}